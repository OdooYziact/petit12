<odoo>

    <!-- Model = product_template -->
    <record id="product_template_form_view" model="ir.ui.view">
        <field name="name">custom_product_tmpl_add_checker</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_form_view"/>
        <field name="arch" type="xml">

            <xpath expr="//header[last()]" position="inside">
                <button
                    class="btn btn-primary"
                    name="action_check"
                    string="Verifier l'article"
                    type="object"
                />
            </xpath>

            <xpath expr="//div[@name='options']" position="before">
                <span class="label label-danger"
                      id="not_validated_item"
                      attrs="{'invisible': [('is_validated', '=', True)]}">
                    Données de base article non valides
                </span>
                <field name="validation_human"/>
                <label for="validation_human" string="Vérification Manager"/>
                <field name="is_validated" invisible="1"/>
            </xpath>

        </field>
    </record>

    <record id="product_checker_action_server" model="ir.actions.server">
        <field name="name">Verifier Articles</field>
        <field name="model_id" ref="product.model_product_template"/>
        <field name="binding_model_id" ref="product.model_product_template"/>
        <field name="model">product.template</field>
        <field name="state">code</field>
        <field name="code">
            action = records.action_check()
        </field>
    </record>

</odoo>

